/* howler.js v2.0.5 | Spatial Plugin | (c) 2013-2017, James Simpson of GoldFire Studios | MIT License | howlerjs.com */
!function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(d){var c=this;if(!c.ctx||!c.ctx.listener){return c}for(var b=c._howls.length-1;b>=0;b--){c._howls[b].stereo(d)}return c},HowlerGlobal.prototype.pos=function(f,c,b){var d=this;return d.ctx&&d.ctx.listener?(c="number"!=typeof c?d._pos[1]:c,b="number"!=typeof b?d._pos[2]:b,"number"!=typeof f?d._pos:(d._pos=[f,c,b],d.ctx.listener.setPosition(d._pos[0],d._pos[1],d._pos[2]),d)):d},HowlerGlobal.prototype.orientation=function(k,h,d,j,f,b){var c=this;if(!c.ctx||!c.ctx.listener){return c}var g=c._orientation;return h="number"!=typeof h?g[1]:h,d="number"!=typeof d?g[2]:d,j="number"!=typeof j?g[3]:j,f="number"!=typeof f?g[4]:f,b="number"!=typeof b?g[5]:b,"number"!=typeof k?g:(c._orientation=[k,h,d,j,f,b],c.ctx.listener.setOrientation(k,h,d,j,f,b),c)},Howl.prototype.init=function(b){return function(d){var c=this;return c._orientation=d.orientation||[1,0,0],c._stereo=d.stereo||null,c._pos=d.pos||null,c._pannerAttr={coneInnerAngle:void 0!==d.coneInnerAngle?d.coneInnerAngle:360,coneOuterAngle:void 0!==d.coneOuterAngle?d.coneOuterAngle:360,coneOuterGain:void 0!==d.coneOuterGain?d.coneOuterGain:0,distanceModel:void 0!==d.distanceModel?d.distanceModel:"inverse",maxDistance:void 0!==d.maxDistance?d.maxDistance:10000,panningModel:void 0!==d.panningModel?d.panningModel:"HRTF",refDistance:void 0!==d.refDistance?d.refDistance:1,rolloffFactor:void 0!==d.rolloffFactor?d.rolloffFactor:1},c._onstereo=d.onstereo?[{fn:d.onstereo}]:[],c._onpos=d.onpos?[{fn:d.onpos}]:[],c._onorientation=d.onorientation?[{fn:d.onorientation}]:[],b.call(this,d)}}(Howl.prototype.init),Howl.prototype.stereo=function(h,d){var j=this;if(!j._webAudio){return j}if("loaded"!==j._state){return j._queue.push({event:"stereo",action:function(){j.stereo(h,d)}}),j}var f=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===d){if("number"!=typeof h){return j._stereo}j._stereo=h,j._pos=[h,0,0]}for(var b=j._getSoundIds(d),c=0;c<b.length;c++){var g=j._soundById(b[c]);if(g){if("number"!=typeof h){return g._stereo}g._stereo=h,g._pos=[h,0,0],g._node&&(g._pannerAttr.panningModel="equalpower",g._panner&&g._panner.pan||a(g,f),"spatial"===f?g._panner.setPosition(h,0,0):g._panner.pan.value=h),j._emit("stereo",g._id)}}return j},Howl.prototype.pos=function(j,d,k,g){var b=this;if(!b._webAudio){return b}if("loaded"!==b._state){return b._queue.push({event:"pos",action:function(){b.pos(j,d,k,g)}}),b}if(d="number"!=typeof d?0:d,k="number"!=typeof k?-0.5:k,void 0===g){if("number"!=typeof j){return b._pos}b._pos=[j,d,k]}for(var c=b._getSoundIds(g),h=0;h<c.length;h++){var f=b._soundById(c[h]);if(f){if("number"!=typeof j){return f._pos}f._pos=[j,d,k],f._node&&(f._panner&&!f._panner.pan||a(f,"spatial"),f._panner.setPosition(j,d,k)),b._emit("pos",f._id)}}return b},Howl.prototype.orientation=function(j,d,k,g){var b=this;if(!b._webAudio){return b}if("loaded"!==b._state){return b._queue.push({event:"orientation",action:function(){b.orientation(j,d,k,g)}}),b}if(d="number"!=typeof d?b._orientation[1]:d,k="number"!=typeof k?b._orientation[2]:k,void 0===g){if("number"!=typeof j){return b._orientation}b._orientation=[j,d,k]}for(var c=b._getSoundIds(g),h=0;h<c.length;h++){var f=b._soundById(c[h]);if(f){if("number"!=typeof j){return f._orientation}f._orientation=[j,d,k],f._node&&(f._panner||(f._pos||(f._pos=b._pos||[0,0,-0.5]),a(f,"spatial")),f._panner.setOrientation(j,d,k)),b._emit("orientation",f._id)}}return b},Howl.prototype.pannerAttr=function(){var h,k,d,b=this,j=arguments;if(!b._webAudio){return b}if(0===j.length){return b._pannerAttr}if(1===j.length){if("object"!=typeof j[0]){return d=b._soundById(parseInt(j[0],10)),d?d._pannerAttr:b._pannerAttr}h=j[0],void 0===k&&(h.pannerAttr||(h.pannerAttr={coneInnerAngle:h.coneInnerAngle,coneOuterAngle:h.coneOuterAngle,coneOuterGain:h.coneOuterGain,distanceModel:h.distanceModel,maxDistance:h.maxDistance,refDistance:h.refDistance,rolloffFactor:h.rolloffFactor,panningModel:h.panningModel}),b._pannerAttr={coneInnerAngle:void 0!==h.pannerAttr.coneInnerAngle?h.pannerAttr.coneInnerAngle:b._coneInnerAngle,coneOuterAngle:void 0!==h.pannerAttr.coneOuterAngle?h.pannerAttr.coneOuterAngle:b._coneOuterAngle,coneOuterGain:void 0!==h.pannerAttr.coneOuterGain?h.pannerAttr.coneOuterGain:b._coneOuterGain,distanceModel:void 0!==h.pannerAttr.distanceModel?h.pannerAttr.distanceModel:b._distanceModel,maxDistance:void 0!==h.pannerAttr.maxDistance?h.pannerAttr.maxDistance:b._maxDistance,refDistance:void 0!==h.pannerAttr.refDistance?h.pannerAttr.refDistance:b._refDistance,rolloffFactor:void 0!==h.pannerAttr.rolloffFactor?h.pannerAttr.rolloffFactor:b._rolloffFactor,panningModel:void 0!==h.pannerAttr.panningModel?h.pannerAttr.panningModel:b._panningModel})}else{2===j.length&&(h=j[0],k=parseInt(j[1],10))}for(var g=b._getSoundIds(k),c=0;c<g.length;c++){if(d=b._soundById(g[c])){var m=d._pannerAttr;m={coneInnerAngle:void 0!==h.coneInnerAngle?h.coneInnerAngle:m.coneInnerAngle,coneOuterAngle:void 0!==h.coneOuterAngle?h.coneOuterAngle:m.coneOuterAngle,coneOuterGain:void 0!==h.coneOuterGain?h.coneOuterGain:m.coneOuterGain,distanceModel:void 0!==h.distanceModel?h.distanceModel:m.distanceModel,maxDistance:void 0!==h.maxDistance?h.maxDistance:m.maxDistance,refDistance:void 0!==h.refDistance?h.refDistance:m.refDistance,rolloffFactor:void 0!==h.rolloffFactor?h.rolloffFactor:m.rolloffFactor,panningModel:void 0!==h.panningModel?h.panningModel:m.panningModel};var f=d._panner;f?(f.coneInnerAngle=m.coneInnerAngle,f.coneOuterAngle=m.coneOuterAngle,f.coneOuterGain=m.coneOuterGain,f.distanceModel=m.distanceModel,f.maxDistance=m.maxDistance,f.refDistance=m.refDistance,f.rolloffFactor=m.rolloffFactor,f.panningModel=m.panningModel):(d._pos||(d._pos=b._pos||[0,0,-0.5]),a(d,"spatial"))}}return b},Sound.prototype.init=function(b){return function(){var d=this,c=d._parent;d._orientation=c._orientation,d._stereo=c._stereo,d._pos=c._pos,d._pannerAttr=c._pannerAttr,b.call(this),d._stereo?c.stereo(d._stereo):d._pos&&c.pos(d._pos[0],d._pos[1],d._pos[2],d._id)}}(Sound.prototype.init),Sound.prototype.reset=function(b){return function(){var d=this,c=d._parent;return d._orientation=c._orientation,d._pos=c._pos,d._pannerAttr=c._pannerAttr,b.call(this)}}(Sound.prototype.reset);var a=function(c,b){b=b||"spatial","spatial"===b?(c._panner=Howler.ctx.createPanner(),c._panner.coneInnerAngle=c._pannerAttr.coneInnerAngle,c._panner.coneOuterAngle=c._pannerAttr.coneOuterAngle,c._panner.coneOuterGain=c._pannerAttr.coneOuterGain,c._panner.distanceModel=c._pannerAttr.distanceModel,c._panner.maxDistance=c._pannerAttr.maxDistance,c._panner.refDistance=c._pannerAttr.refDistance,c._panner.rolloffFactor=c._pannerAttr.rolloffFactor,c._panner.panningModel=c._pannerAttr.panningModel,c._panner.setPosition(c._pos[0],c._pos[1],c._pos[2]),c._panner.setOrientation(c._orientation[0],c._orientation[1],c._orientation[2])):(c._panner=Howler.ctx.createStereoPanner(),c._panner.pan.value=c._stereo),c._panner.connect(c._node),c._paused||c._parent.pause(c._id,!0).play(c._id)}}();