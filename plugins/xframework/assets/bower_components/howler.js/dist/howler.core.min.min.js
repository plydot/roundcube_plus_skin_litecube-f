/* howler.js v2.0.5 | (c) 2013-2017, James Simpson of GoldFire Studios | MIT License | howlerjs.com */
!function(){var h=function(){this.init()};h.prototype={init:function(){var a=this||f;return a._counter=1000,a._codecs={},a._howls=[],a._muted=!1,a._volume=1,a._canPlayEvent="canplaythrough",a._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,a.masterGain=null,a.noAudio=!1,a.usingWebAudio=!0,a.autoSuspend=!0,a.ctx=null,a.mobileAutoEnable=!0,a._setup(),a},volume:function(s){var v=this||f;if(s=parseFloat(s),v.ctx||l(),void 0!==s&&s>=0&&s<=1){if(v._volume=s,v._muted){return v}v.usingWebAudio&&(v.masterGain.gain.value=s);for(var n=0;n<v._howls.length;n++){if(!v._howls[n]._webAudio){for(var q=v._howls[n]._getSoundIds(),d=0;d<q.length;d++){var i=v._howls[n]._soundById(q[d]);i&&i._node&&(i._node.volume=i._volume*s)}}}return v}return v._volume},mute:function(s){var v=this||f;v.ctx||l(),v._muted=s,v.usingWebAudio&&(v.masterGain.gain.value=s?0:v._volume);for(var n=0;n<v._howls.length;n++){if(!v._howls[n]._webAudio){for(var q=v._howls[n]._getSoundIds(),d=0;d<q.length;d++){var i=v._howls[n]._soundById(q[d]);i&&i._node&&(i._node.muted=!!s||i._muted)}}}return v},unload:function(){for(var a=this||f,d=a._howls.length-1;d>=0;d--){a._howls[d].unload()}return a.usingWebAudio&&a.ctx&&void 0!==a.ctx.close&&(a.ctx.close(),a.ctx=null,l()),a},codecs:function(a){return(this||f)._codecs[a.replace(/^x-/,"")]},_setup:function(){var a=this||i;if(a.state=a.ctx?a.ctx.state||"running":"running",a._autoSuspend(),!a.usingWebAudio){if("undefined"!=typeof Audio){try{var d=new Audio;void 0===d.oncanplaythrough&&(a._canPlayEvent="canplay")}catch(i){a.noAudio=!0}}else{a.noAudio=!0}}try{var d=new Audio;d.muted&&(a.noAudio=!0)}catch(a){}return a.noAudio||a._setupCodecs(),a},_setupCodecs:function(){var s=this||v,u=null;try{u="undefined"!=typeof Audio?new Audio:null}catch(v){return s}if(!u||"function"!=typeof u.canPlayType){return s}var i=u.canPlayType("audio/mpeg;").replace(/^no$/,""),q=s._navigator&&s._navigator.userAgent.match(/OPR\/([0-6].)/g),d=q&&parseInt(q[0].split("/")[1],10)<33;return s._codecs={mp3:!(d||!i&&!u.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!i,opus:!!u.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!u.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!u.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!u.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!u.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!u.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(u.canPlayType("audio/x-m4a;")||u.canPlayType("audio/m4a;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(u.canPlayType("audio/x-mp4;")||u.canPlayType("audio/mp4;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!u.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!u.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!u.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(u.canPlayType("audio/x-flac;")||u.canPlayType("audio/flac;")).replace(/^no$/,"")},s},_enableMobileAudio:function(){var i=this||f,n=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(i._navigator&&i._navigator.userAgent),a=!!("ontouchend" in window||i._navigator&&i._navigator.maxTouchPoints>0||i._navigator&&i._navigator.msMaxTouchPoints>0);if(!i._mobileEnabled&&i.ctx&&(n||a)){i._mobileEnabled=!1,i._mobileUnloaded||44100===i.ctx.sampleRate||(i._mobileUnloaded=!0,i.unload()),i._scratchBuffer=i.ctx.createBuffer(1,1,22050);var d=function(){f._autoResume();var e=i.ctx.createBufferSource();e.buffer=i._scratchBuffer,e.connect(i.ctx.destination),void 0===e.start?e.noteOn(0):e.start(0),"function"==typeof i.ctx.resume&&i.ctx.resume(),e.onended=function(){e.disconnect(0),i._mobileEnabled=!0,i.mobileAutoEnable=!1,document.removeEventListener("touchstart",d,!0),document.removeEventListener("touchend",d,!0)}};return document.addEventListener("touchstart",d,!0),document.addEventListener("touchend",d,!0),i}},_autoSuspend:function(){var d=this;if(d.autoSuspend&&d.ctx&&void 0!==d.ctx.suspend&&f.usingWebAudio){for(var i=0;i<d._howls.length;i++){if(d._howls[i]._webAudio){for(var a=0;a<d._howls[i]._sounds.length;a++){if(!d._howls[i]._sounds[a]._paused){return d}}}}return d._suspendTimer&&clearTimeout(d._suspendTimer),d._suspendTimer=setTimeout(function(){d.autoSuspend&&(d._suspendTimer=null,d.state="suspending",d.ctx.suspend().then(function(){d.state="suspended",d._resumeAfterSuspend&&(delete d._resumeAfterSuspend,d._autoResume())}))},30000),d}},_autoResume:function(){var a=this;if(a.ctx&&void 0!==a.ctx.resume&&f.usingWebAudio){return"running"===a.state&&a._suspendTimer?(clearTimeout(a._suspendTimer),a._suspendTimer=null):"suspended"===a.state?(a.ctx.resume().then(function(){a.state="running";for(var d=0;d<a._howls.length;d++){a._howls[d]._emit("resume")}}),a._suspendTimer&&(clearTimeout(a._suspendTimer),a._suspendTimer=null)):"suspending"===a.state&&(a._resumeAfterSuspend=!0),a}}};var f=new h,c=function(a){var d=this;if(!a.src||0===a.src.length){return void console.error("An array of source files must be passed with any new Howl.")}d.init(a)};c.prototype={init:function(a){var d=this;return f.ctx||l(),d._autoplay=a.autoplay||!1,d._format="string"!=typeof a.format?a.format:[a.format],d._html5=a.html5||!1,d._muted=a.mute||!1,d._loop=a.loop||!1,d._pool=a.pool||5,d._preload="boolean"!=typeof a.preload||a.preload,d._rate=a.rate||1,d._sprite=a.sprite||{},d._src="string"!=typeof a.src?a.src:[a.src],d._volume=void 0!==a.volume?a.volume:1,d._xhrWithCredentials=a.xhrWithCredentials||!1,d._duration=0,d._state="unloaded",d._sounds=[],d._endTimers={},d._queue=[],d._onend=a.onend?[{fn:a.onend}]:[],d._onfade=a.onfade?[{fn:a.onfade}]:[],d._onload=a.onload?[{fn:a.onload}]:[],d._onloaderror=a.onloaderror?[{fn:a.onloaderror}]:[],d._onplayerror=a.onplayerror?[{fn:a.onplayerror}]:[],d._onpause=a.onpause?[{fn:a.onpause}]:[],d._onplay=a.onplay?[{fn:a.onplay}]:[],d._onstop=a.onstop?[{fn:a.onstop}]:[],d._onmute=a.onmute?[{fn:a.onmute}]:[],d._onvolume=a.onvolume?[{fn:a.onvolume}]:[],d._onrate=a.onrate?[{fn:a.onrate}]:[],d._onseek=a.onseek?[{fn:a.onseek}]:[],d._onresume=[],d._webAudio=f.usingWebAudio&&!d._html5,void 0!==f.ctx&&f.ctx&&f.mobileAutoEnable&&f._enableMobileAudio(),f._howls.push(d),d._autoplay&&d._queue.push({event:"play",action:function(){d.play()}}),d._preload&&d.load(),d},load:function(){var q=this,s=null;if(f.noAudio){return void q._emit("loaderror",null,"No audio support.")}"string"==typeof q._src&&(q._src=[q._src]);for(var n=0;n<q._src.length;n++){var a,d;if(q._format&&q._format[n]){a=q._format[n]}else{if("string"!=typeof(d=q._src[n])){q._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}a=/^data:audio\/([^;,]+);/i.exec(d),a||(a=/\.([^.]+)$/.exec(d.split("?",1)[0])),a&&(a=a[1].toLowerCase())}if(a||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),a&&f.codecs(a)){s=q._src[n];break}}return s?(q._src=s,q._state="loading","https:"===window.location.protocol&&"http:"===s.slice(0,5)&&(q._html5=!0,q._webAudio=!1),new p(q),q._webAudio&&k(q),q):void q._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(B,w){var I=this,n=null;if("number"==typeof B){n=B,B=null}else{if("string"==typeof B&&"loaded"===I._state&&!I._sprite[B]){return null}if(void 0===B){B="__default";for(var E=0,H=0;H<I._sounds.length;H++){I._sounds[H]._paused&&!I._sounds[H]._ended&&(E++,n=I._sounds[H]._id)}1===E?B=null:n=null}}var z=n?I._soundById(n):I._inactiveSound();if(!z){return null}if(n&&!B&&(B=z._sprite||"__default"),"loaded"!==I._state){z._sprite=B,z._ended=!1;var C=z._id;return I._queue.push({event:"play",action:function(){I.play(C)}}),C}if(n&&!z._paused){return w||setTimeout(function(){I._emit("play",z._id)},0),z._id}I._webAudio&&f._autoResume();var G=Math.max(0,z._seek>0?z._seek:I._sprite[B][0]/1000),J=Math.max(0,(I._sprite[B][0]+I._sprite[B][1])/1000-G),y=1000*J/Math.abs(z._rate);z._paused=!1,z._ended=!1,z._sprite=B,z._seek=G,z._start=I._sprite[B][0]/1000,z._stop=(I._sprite[B][0]+I._sprite[B][1])/1000,z._loop=!(!z._loop&&!I._sprite[B][2]);var D=z._node;if(I._webAudio){var A=function(){I._refreshBuffer(z);var a=z._muted||I._muted?0:z._volume;D.gain.setValueAtTime(a,f.ctx.currentTime),z._playStart=f.ctx.currentTime,void 0===D.bufferSource.start?z._loop?D.bufferSource.noteGrainOn(0,G,86400):D.bufferSource.noteGrainOn(0,G,J):z._loop?D.bufferSource.start(0,G,86400):D.bufferSource.start(0,G,J),y!==1/0&&(I._endTimers[z._id]=setTimeout(I._ended.bind(I,z),y)),w||setTimeout(function(){I._emit("play",z._id)},0)};"running"===f.state?A():(I.once("resume",A),I._clearTimer(z._id))}else{var q=function(){D.currentTime=G,D.muted=z._muted||I._muted||f._muted||D.muted,D.volume=z._volume*f.volume(),D.playbackRate=z._rate;try{if(D.play(),D.paused){return void I._emit("playerror",z._id,"Playback was unable to start. This is most commonly an issue on mobile devices where playback was not within a user interaction.")}y!==1/0&&(I._endTimers[z._id]=setTimeout(I._ended.bind(I,z),y)),w||I._emit("play",z._id)}catch(a){I._emit("playerror",z._id,a)}},F=window&&window.ejecta||!D.readyState&&f._navigator.isCocoonJS;if(4===D.readyState||F){q()}else{var x=function(){q(),D.removeEventListener(f._canPlayEvent,x,!1)};D.addEventListener(f._canPlayEvent,x,!1),I._clearTimer(z._id)}}return z._id},pause:function(i){var s=this;if("loaded"!==s._state){return s._queue.push({event:"pause",action:function(){s.pause(i)}}),s}for(var q=s._getSoundIds(i),a=0;a<q.length;a++){s._clearTimer(q[a]);var d=s._soundById(q[a]);if(d&&!d._paused&&(d._seek=s.seek(q[a]),d._rateSeek=0,d._paused=!0,s._stopFade(q[a]),d._node)){if(s._webAudio){if(!d._node.bufferSource){continue}void 0===d._node.bufferSource.stop?d._node.bufferSource.noteOff(0):d._node.bufferSource.stop(0),s._cleanBuffer(d._node)}else{isNaN(d._node.duration)&&d._node.duration!==1/0||d._node.pause()}}arguments[1]||s._emit("pause",d?d._id:null)}return s},stop:function(s,v){var u=this;if("loaded"!==u._state){return u._queue.push({event:"stop",action:function(){u.stop(s)}}),u}for(var i=u._getSoundIds(s),q=0;q<i.length;q++){u._clearTimer(i[q]);var d=u._soundById(i[q]);d&&(d._seek=d._start||0,d._rateSeek=0,d._paused=!0,d._ended=!0,u._stopFade(i[q]),d._node&&(u._webAudio?d._node.bufferSource&&(void 0===d._node.bufferSource.stop?d._node.bufferSource.noteOff(0):d._node.bufferSource.stop(0),u._cleanBuffer(d._node)):isNaN(d._node.duration)&&d._node.duration!==1/0||(d._node.currentTime=d._start||0,d._node.pause())),v||u._emit("stop",d._id))}return u},mute:function(s,v){var n=this;if("loaded"!==n._state){return n._queue.push({event:"mute",action:function(){n.mute(s,v)}}),n}if(void 0===v){if("boolean"!=typeof s){return n._muted}n._muted=s}for(var q=n._getSoundIds(v),d=0;d<q.length;d++){var i=n._soundById(q[d]);i&&(i._muted=s,n._webAudio&&i._node?i._node.gain.setValueAtTime(s?0:i._volume,f.ctx.currentTime):i._node&&(i._node.muted=!!f._muted||s),n._emit("mute",i._id))}return n},volume:function(){var s,v,n=this,q=arguments;if(0===q.length){return n._volume}if(1===q.length||2===q.length&&void 0===q[1]){n._getSoundIds().indexOf(q[0])>=0?v=parseInt(q[0],10):s=parseFloat(q[0])}else{q.length>=2&&(s=parseFloat(q[0]),v=parseInt(q[1],10))}var d;if(!(void 0!==s&&s>=0&&s<=1)){return d=v?n._soundById(v):n._sounds[0],d?d._volume:0}if("loaded"!==n._state){return n._queue.push({event:"volume",action:function(){n.volume.apply(n,q)}}),n}void 0===v&&(n._volume=s),v=n._getSoundIds(v);for(var i=0;i<v.length;i++){(d=n._soundById(v[i]))&&(d._volume=s,q[2]||n._stopFade(v[i]),n._webAudio&&d._node&&!d._muted?d._node.gain.setValueAtTime(s,f.ctx.currentTime):d._node&&!d._muted&&(d._node.volume=s*f.volume()),n._emit("volume",d._id))}return n},fade:function(w,q,B,n){var y=this;if("loaded"!==y._state){return y._queue.push({event:"fade",action:function(){y.fade(w,q,B,n)}}),y}y.volume(w,n);for(var A=y._getSoundIds(n),v=0;v<A.length;v++){var x=y._soundById(A[v]);if(x){if(n||y._stopFade(A[v]),y._webAudio&&!x._muted){var z=f.ctx.currentTime,C=z+B/1000;x._volume=w,x._node.gain.setValueAtTime(w,z),x._node.gain.linearRampToValueAtTime(q,C)}y._startFadeInterval(x,w,q,B,A[v])}}return y},_startFadeInterval:function(y,w,v,D,q){var A=this,C=w,x=w>v?"out":"in",z=Math.abs(w-v),B=z/0.01,E=B>0?D/B:D;E<4&&(B=Math.ceil(B/(4/E)),E=4),y._interval=setInterval(function(){B>0&&(C+="in"===x?0.01:-0.01),C=Math.max(0,C),C=Math.min(1,C),C=Math.round(100*C)/100,A._webAudio?(void 0===q&&(A._volume=C),y._volume=C):A.volume(C,y._id,!0),(v<w&&C<=v||v>w&&C>=v)&&(clearInterval(y._interval),y._interval=null,A.volume(v,y._id),A._emit("fade",y._id))},E)},_stopFade:function(d){var i=this,a=i._soundById(d);return a&&a._interval&&(i._webAudio&&a._node.gain.cancelScheduledValues(f.ctx.currentTime),clearInterval(a._interval),a._interval=null,i._emit("fade",d)),i},loop:function(){var v,x,w,q=this,s=arguments;if(0===s.length){return q._loop}if(1===s.length){if("boolean"!=typeof s[0]){return !!(w=q._soundById(parseInt(s[0],10)))&&w._loop}v=s[0],q._loop=v}else{2===s.length&&(v=s[0],x=parseInt(s[1],10))}for(var d=q._getSoundIds(x),i=0;i<d.length;i++){(w=q._soundById(d[i]))&&(w._loop=v,q._webAudio&&w._node&&w._node.bufferSource&&(w._node.bufferSource.loop=v,v&&(w._node.bufferSource.loopStart=w._start||0,w._node.bufferSource.loopEnd=w._stop)))}return q},rate:function(){var x,q,C=this,n=arguments;if(0===n.length){q=C._sounds[0]._id}else{if(1===n.length){var z=C._getSoundIds(),B=z.indexOf(n[0]);B>=0?q=parseInt(n[0],10):x=parseFloat(n[0])}else{2===n.length&&(x=parseFloat(n[0]),q=parseInt(n[1],10))}}var w;if("number"!=typeof x){return w=C._soundById(q),w?w._rate:C._rate}if("loaded"!==C._state){return C._queue.push({event:"rate",action:function(){C.rate.apply(C,n)}}),C}void 0===q&&(C._rate=x),q=C._getSoundIds(q);for(var y=0;y<q.length;y++){if(w=C._soundById(q[y])){w._rateSeek=C.seek(q[y]),w._playStart=C._webAudio?f.ctx.currentTime:w._playStart,w._rate=x,C._webAudio&&w._node&&w._node.bufferSource?w._node.bufferSource.playbackRate.value=x:w._node&&(w._node.playbackRate=x);var A=C.seek(q[y]),D=(C._sprite[w._sprite][0]+C._sprite[w._sprite][1])/1000-A,v=1000*D/Math.abs(w._rate);!C._endTimers[q[y]]&&w._paused||(C._clearTimer(q[y]),C._endTimers[q[y]]=setTimeout(C._ended.bind(C,w),v)),C._emit("rate",w._id)}}return C},seek:function(){var w,q,B=this,n=arguments;if(0===n.length){q=B._sounds[0]._id}else{if(1===n.length){var y=B._getSoundIds(),A=y.indexOf(n[0]);A>=0?q=parseInt(n[0],10):B._sounds.length&&(q=B._sounds[0]._id,w=parseFloat(n[0]))}else{2===n.length&&(w=parseFloat(n[0]),q=parseInt(n[1],10))}}if(void 0===q){return B}if("loaded"!==B._state){return B._queue.push({event:"seek",action:function(){B.seek.apply(B,n)}}),B}var v=B._soundById(q);if(v){if(!("number"==typeof w&&w>=0)){if(B._webAudio){var x=B.playing(q)?f.ctx.currentTime-v._playStart:0,z=v._rateSeek?v._rateSeek-v._seek:0;return v._seek+(z+x*Math.abs(v._rate))}return v._node.currentTime}var C=B.playing(q);C&&B.pause(q,!0),v._seek=w,v._ended=!1,B._clearTimer(q),C&&B.play(q,!0),!B._webAudio&&v._node&&(v._node.currentTime=w),B._emit("seek",q)}return B},playing:function(d){var q=this;if("number"==typeof d){var i=q._soundById(d);return !!i&&!i._paused}for(var a=0;a<q._sounds.length;a++){if(!q._sounds[a]._paused){return !0}}return !1},duration:function(d){var q=this,i=q._duration,a=q._soundById(d);return a&&(i=q._sprite[a._sprite][1]/1000),i},state:function(){return this._state},unload:function(){for(var q=this,r=q._sounds,n=0;n<r.length;n++){if(r[n]._paused||q.stop(r[n]._id),!q._webAudio){/MSIE |Trident\//.test(f._navigator&&f._navigator.userAgent)||(r[n]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"),r[n]._node.removeEventListener("error",r[n]._errorFn,!1),r[n]._node.removeEventListener(f._canPlayEvent,r[n]._loadFn,!1)}delete r[n]._node,q._clearTimer(r[n]._id);var d=f._howls.indexOf(q);d>=0&&f._howls.splice(d,1)}var i=!0;for(n=0;n<f._howls.length;n++){if(f._howls[n]._src===q._src){i=!1;break}}return b&&i&&delete b[q._src],f.noAudio=!1,q._state="unloaded",q._sounds=[],q=null,null},on:function(s,v,u,i){var q=this,d=q["_on"+s];return"function"==typeof v&&d.push(i?{id:u,fn:v,once:i}:{id:u,fn:v}),q},off:function(x,z,y){var v=this,w=v["_on"+x],d=0;if("number"==typeof z&&(y=z,z=null),z||y){for(d=0;d<w.length;d++){var q=y===w[d].id;if(z===w[d].fn&&q||!z&&q){w.splice(d,1);break}}}else{if(x){v["_on"+x]=[]}else{var s=Object.keys(v);for(d=0;d<s.length;d++){0===s[d].indexOf("_on")&&Array.isArray(v[s[d]])&&(v[s[d]]=[])}}}return v},once:function(d,q,i){var a=this;return a.on(d,q,i,1),a},_emit:function(s,v,u){for(var i=this,q=i["_on"+s],d=q.length-1;d>=0;d--){q[d].id&&q[d].id!==v&&"load"!==s||(setTimeout(function(a){a.call(this,v,u)}.bind(i,q[d].fn),0),q[d].once&&i.off(s,q[d].fn,q[d].id))}return i},_loadQueue:function(){var a=this;if(a._queue.length>0){var d=a._queue[0];a.once(d.event,function(){a._queue.shift(),a._loadQueue()}),d.action()}return a},_ended:function(q){var s=this,i=q._sprite;if(!s._webAudio&&q._node&&!q._node.paused){return setTimeout(s._ended.bind(s,q),100),s}var n=!(!q._loop&&!s._sprite[i][2]);if(s._emit("end",q._id),!s._webAudio&&n&&s.stop(q._id,!0).play(q._id),s._webAudio&&n){s._emit("play",q._id),q._seek=q._start||0,q._rateSeek=0,q._playStart=f.ctx.currentTime;var d=1000*(q._stop-q._start)/Math.abs(q._rate);s._endTimers[q._id]=setTimeout(s._ended.bind(s,q),d)}return s._webAudio&&!n&&(q._paused=!0,q._ended=!0,q._seek=q._start||0,q._rateSeek=0,s._clearTimer(q._id),s._cleanBuffer(q._node),f._autoSuspend()),s._webAudio||n||s.stop(q._id),s},_clearTimer:function(a){var d=this;return d._endTimers[a]&&(clearTimeout(d._endTimers[a]),delete d._endTimers[a]),d},_soundById:function(a){for(var i=this,d=0;d<i._sounds.length;d++){if(a===i._sounds[d]._id){return i._sounds[d]}}return null},_inactiveSound:function(){var a=this;a._drain();for(var d=0;d<a._sounds.length;d++){if(a._sounds[d]._ended){return a._sounds[d].reset()}}return new p(a)},_drain:function(){var d=this,q=d._pool,i=0,a=0;if(!(d._sounds.length<q)){for(a=0;a<d._sounds.length;a++){d._sounds[a]._ended&&i++}for(a=d._sounds.length-1;a>=0;a--){if(i<=q){return}d._sounds[a]._ended&&(d._webAudio&&d._sounds[a]._node&&d._sounds[a]._node.disconnect(0),d._sounds.splice(a,1),i--)}}},_getSoundIds:function(d){var q=this;if(void 0===d){for(var i=[],a=0;a<q._sounds.length;a++){i.push(q._sounds[a]._id)}return i}return[d]},_refreshBuffer:function(a){var d=this;return a._node.bufferSource=f.ctx.createBufferSource(),a._node.bufferSource.buffer=b[d._src],a._panner?a._node.bufferSource.connect(a._panner):a._node.bufferSource.connect(a._node),a._node.bufferSource.loop=a._loop,a._loop&&(a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop),a._node.bufferSource.playbackRate.value=a._rate,d},_cleanBuffer:function(a){var d=this;if(d._scratchBuffer){a.bufferSource.onended=null,a.bufferSource.disconnect(0);try{a.bufferSource.buffer=d._scratchBuffer}catch(a){}}return a.bufferSource=null,d}};var p=function(a){this._parent=a,this.init()};p.prototype={init:function(){var a=this,d=a._parent;return a._muted=d._muted,a._loop=d._loop,a._volume=d._volume,a._rate=d._rate,a._seek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++f._counter,d._sounds.push(a),a.create(),a},create:function(){var d=this,i=d._parent,a=f._muted||d._muted||d._parent._muted?0:d._volume;return i._webAudio?(d._node=void 0===f.ctx.createGain?f.ctx.createGainNode():f.ctx.createGain(),d._node.gain.setValueAtTime(a,f.ctx.currentTime),d._node.paused=!0,d._node.connect(f.masterGain)):(d._node=new Audio,d._errorFn=d._errorListener.bind(d),d._node.addEventListener("error",d._errorFn,!1),d._loadFn=d._loadListener.bind(d),d._node.addEventListener(f._canPlayEvent,d._loadFn,!1),d._node.src=i._src,d._node.preload="auto",d._node.volume=a*f.volume(),d._node.load()),d},reset:function(){var a=this,d=a._parent;return a._muted=d._muted,a._loop=d._loop,a._volume=d._volume,a._rate=d._rate,a._seek=0,a._rateSeek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++f._counter,a},_errorListener:function(){var a=this;a._parent._emit("loaderror",a._id,a._node.error?a._node.error.code:0),a._node.removeEventListener("error",a._errorFn,!1)},_loadListener:function(){var a=this,d=a._parent;d._duration=Math.ceil(10*a._node.duration)/10,0===Object.keys(d._sprite).length&&(d._sprite={__default:[0,1000*d._duration]}),"loaded"!==d._state&&(d._state="loaded",d._emit("load"),d._loadQueue()),a._node.removeEventListener(f._canPlayEvent,a._loadFn,!1)}};var b={},k=function(r){var u=r._src;if(b[u]){return r._duration=b[u].duration,void j(r)}if(/^data:[^;]+;base64,/.test(u)){for(var s=atob(u.split(",")[1]),q=new Uint8Array(s.length),d=0;d<s.length;++d){q[d]=s.charCodeAt(d)}g(q.buffer,r)}else{var i=new XMLHttpRequest;i.open("GET",u,!0),i.withCredentials=r._xhrWithCredentials,i.responseType="arraybuffer",i.onload=function(){var a=(i.status+"")[0];if("0"!==a&&"2"!==a&&"3"!==a){return void r._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".")}g(i.response,r)},i.onerror=function(){r._webAudio&&(r._html5=!0,r._webAudio=!1,r._sounds=[],delete b[u],r.load())},m(i)}},m=function(a){try{a.send()}catch(d){a.onerror()}},g=function(a,d){f.ctx.decodeAudioData(a,function(i){i&&d._sounds.length>0&&(b[d._src]=i,j(d,i))},function(){d._emit("loaderror",null,"Decoding audio data failed.")})},j=function(a,d){d&&!a._duration&&(a._duration=d.duration),0===Object.keys(a._sprite).length&&(a._sprite={__default:[0,1000*a._duration]}),"loaded"!==a._state&&(a._state="loaded",a._emit("load"),a._loadQueue())},l=function(){try{"undefined"!=typeof AudioContext?f.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?f.ctx=new webkitAudioContext:f.usingWebAudio=!1}catch(i){f.usingWebAudio=!1}var i=/iP(hone|od|ad)/.test(f._navigator&&f._navigator.platform),n=f._navigator&&f._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),a=n?parseInt(n[1],10):null;if(i&&a&&a<9){var d=/safari/.test(f._navigator&&f._navigator.userAgent.toLowerCase());(f._navigator&&f._navigator.standalone&&!d||f._navigator&&!f._navigator.standalone&&!d)&&(f.usingWebAudio=!1)}f.usingWebAudio&&(f.masterGain=void 0===f.ctx.createGain?f.ctx.createGainNode():f.ctx.createGain(),f.masterGain.gain.value=f._muted?0:1,f.masterGain.connect(f.ctx.destination)),f._setup()};"function"==typeof define&&define.amd&&define([],function(){return{Howler:f,Howl:c}}),"undefined"!=typeof exports&&(exports.Howler=f,exports.Howl=c),"undefined"!=typeof window?(window.HowlerGlobal=h,window.Howler=f,window.Howl=c,window.Sound=p):"undefined"!=typeof global&&(global.HowlerGlobal=h,global.Howler=f,global.Howl=c,global.Sound=p)}();