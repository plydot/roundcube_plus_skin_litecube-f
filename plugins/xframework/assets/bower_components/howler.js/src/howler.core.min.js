/*
 *  howler.js v2.0.5
 *  howlerjs.com
 *
 *  (c) 2013-2017, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
(function(){var c=function(){this.init()};c.prototype={init:function(){var k=this||j;k._counter=1000;k._codecs={};k._howls=[];k._muted=false;k._volume=1;k._canPlayEvent="canplaythrough";k._navigator=(typeof window!=="undefined"&&window.navigator)?window.navigator:null;k.masterGain=null;k.noAudio=false;k.usingWebAudio=true;k.autoSuspend=true;k.ctx=null;k.mobileAutoEnable=true;k._setup();return k},volume:function(n){var k=this||j;n=parseFloat(n);if(!k.ctx){e()}if(typeof n!=="undefined"&&n>=0&&n<=1){k._volume=n;if(k._muted){return k}if(k.usingWebAudio){k.masterGain.gain.value=n}for(var m=0;m<k._howls.length;m++){if(!k._howls[m]._webAudio){var o=k._howls[m]._getSoundIds();for(var l=0;l<o.length;l++){var p=k._howls[m]._soundById(o[l]);if(p&&p._node){p._node.volume=p._volume*n}}}}return k}return k._volume},mute:function(o){var k=this||j;if(!k.ctx){e()}k._muted=o;if(k.usingWebAudio){k.masterGain.gain.value=o?0:k._volume}for(var m=0;m<k._howls.length;m++){if(!k._howls[m]._webAudio){var n=k._howls[m]._getSoundIds();for(var l=0;l<n.length;l++){var p=k._howls[m]._soundById(n[l]);if(p&&p._node){p._node.muted=(o)?true:p._muted}}}}return k},unload:function(){var k=this||j;for(var l=k._howls.length-1;l>=0;l--){k._howls[l].unload()}if(k.usingWebAudio&&k.ctx&&typeof k.ctx.close!=="undefined"){k.ctx.close();k.ctx=null;e()}return k},codecs:function(k){return(this||j)._codecs[k.replace(/^x-/,"")]},_setup:function(){var k=this||j;k.state=k.ctx?k.ctx.state||"running":"running";k._autoSuspend();if(!k.usingWebAudio){if(typeof Audio!=="undefined"){try{var m=new Audio();if(typeof m.oncanplaythrough==="undefined"){k._canPlayEvent="canplay"}}catch(l){k.noAudio=true}}else{k.noAudio=true}}try{var m=new Audio();if(m.muted){k.noAudio=true}}catch(l){}if(!k.noAudio){k._setupCodecs()}return k},_setupCodecs:function(){var k=this||j;var n=null;try{n=(typeof Audio!=="undefined")?new Audio():null}catch(m){return k}if(!n||typeof n.canPlayType!=="function"){return k}var p=n.canPlayType("audio/mpeg;").replace(/^no$/,"");var o=k._navigator&&k._navigator.userAgent.match(/OPR\/([0-6].)/g);var l=(o&&parseInt(o[0].split("/")[1],10)<33);k._codecs={mp3:!!(!l&&(p||n.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!p,opus:!!n.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!n.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!n.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!n.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(n.canPlayType("audio/x-m4a;")||n.canPlayType("audio/m4a;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(n.canPlayType("audio/x-mp4;")||n.canPlayType("audio/mp4;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!n.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(n.canPlayType("audio/x-flac;")||n.canPlayType("audio/flac;")).replace(/^no$/,"")};return k},_enableMobileAudio:function(){var m=this||j;var k=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(m._navigator&&m._navigator.userAgent);var l=!!(("ontouchend" in window)||(m._navigator&&m._navigator.maxTouchPoints>0)||(m._navigator&&m._navigator.msMaxTouchPoints>0));if(m._mobileEnabled||!m.ctx||(!k&&!l)){return}m._mobileEnabled=false;if(!m._mobileUnloaded&&m.ctx.sampleRate!==44100){m._mobileUnloaded=true;m.unload()}m._scratchBuffer=m.ctx.createBuffer(1,1,22050);var n=function(){j._autoResume();var o=m.ctx.createBufferSource();o.buffer=m._scratchBuffer;o.connect(m.ctx.destination);if(typeof o.start==="undefined"){o.noteOn(0)}else{o.start(0)}if(typeof m.ctx.resume==="function"){m.ctx.resume()}o.onended=function(){o.disconnect(0);m._mobileEnabled=true;m.mobileAutoEnable=false;document.removeEventListener("touchstart",n,true);document.removeEventListener("touchend",n,true)}};document.addEventListener("touchstart",n,true);document.addEventListener("touchend",n,true);return m},_autoSuspend:function(){var k=this;if(!k.autoSuspend||!k.ctx||typeof k.ctx.suspend==="undefined"||!j.usingWebAudio){return}for(var m=0;m<k._howls.length;m++){if(k._howls[m]._webAudio){for(var l=0;l<k._howls[m]._sounds.length;l++){if(!k._howls[m]._sounds[l]._paused){return k}}}}if(k._suspendTimer){clearTimeout(k._suspendTimer)}k._suspendTimer=setTimeout(function(){if(!k.autoSuspend){return}k._suspendTimer=null;k.state="suspending";k.ctx.suspend().then(function(){k.state="suspended";if(k._resumeAfterSuspend){delete k._resumeAfterSuspend;k._autoResume()}})},30000);return k},_autoResume:function(){var k=this;if(!k.ctx||typeof k.ctx.resume==="undefined"||!j.usingWebAudio){return}if(k.state==="running"&&k._suspendTimer){clearTimeout(k._suspendTimer);k._suspendTimer=null}else{if(k.state==="suspended"){k.ctx.resume().then(function(){k.state="running";for(var l=0;l<k._howls.length;l++){k._howls[l]._emit("resume")}});if(k._suspendTimer){clearTimeout(k._suspendTimer);k._suspendTimer=null}}else{if(k.state==="suspending"){k._resumeAfterSuspend=true}}}return k}};var j=new c();var d=function(l){var k=this;if(!l.src||l.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}k.init(l)};d.prototype={init:function(l){var k=this;if(!j.ctx){e()}k._autoplay=l.autoplay||false;k._format=(typeof l.format!=="string")?l.format:[l.format];k._html5=l.html5||false;k._muted=l.mute||false;k._loop=l.loop||false;k._pool=l.pool||5;k._preload=(typeof l.preload==="boolean")?l.preload:true;k._rate=l.rate||1;k._sprite=l.sprite||{};k._src=(typeof l.src!=="string")?l.src:[l.src];k._volume=l.volume!==undefined?l.volume:1;k._xhrWithCredentials=l.xhrWithCredentials||false;k._duration=0;k._state="unloaded";k._sounds=[];k._endTimers={};k._queue=[];k._onend=l.onend?[{fn:l.onend}]:[];k._onfade=l.onfade?[{fn:l.onfade}]:[];k._onload=l.onload?[{fn:l.onload}]:[];k._onloaderror=l.onloaderror?[{fn:l.onloaderror}]:[];k._onplayerror=l.onplayerror?[{fn:l.onplayerror}]:[];k._onpause=l.onpause?[{fn:l.onpause}]:[];k._onplay=l.onplay?[{fn:l.onplay}]:[];k._onstop=l.onstop?[{fn:l.onstop}]:[];k._onmute=l.onmute?[{fn:l.onmute}]:[];k._onvolume=l.onvolume?[{fn:l.onvolume}]:[];k._onrate=l.onrate?[{fn:l.onrate}]:[];k._onseek=l.onseek?[{fn:l.onseek}]:[];k._onresume=[];k._webAudio=j.usingWebAudio&&!k._html5;if(typeof j.ctx!=="undefined"&&j.ctx&&j.mobileAutoEnable){j._enableMobileAudio()}j._howls.push(k);if(k._autoplay){k._queue.push({event:"play",action:function(){k.play()}})}if(k._preload){k.load()}return k},load:function(){var k=this;var l=null;if(j.noAudio){k._emit("loaderror",null,"No audio support.");return}if(typeof k._src==="string"){k._src=[k._src]}for(var m=0;m<k._src.length;m++){var n,o;if(k._format&&k._format[m]){n=k._format[m]}else{o=k._src[m];if(typeof o!=="string"){k._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}n=/^data:audio\/([^;,]+);/i.exec(o);if(!n){n=/\.([^.]+)$/.exec(o.split("?",1)[0])}if(n){n=n[1].toLowerCase()}}if(!n){console.warn('No file extension was found. Consider using the "format" property or specify an extension.')}if(n&&j.codecs(n)){l=k._src[m];break}}if(!l){k._emit("loaderror",null,"No codec support for selected audio sources.");return}k._src=l;k._state="loading";if(window.location.protocol==="https:"&&l.slice(0,5)==="http:"){k._html5=true;k._webAudio=false}new g(k);if(k._webAudio){i(k)}return k},play:function(x,r){var z=this;var k=null;if(typeof x==="number"){k=x;x=null}else{if(typeof x==="string"&&z._state==="loaded"&&!z._sprite[x]){return null}else{if(typeof x==="undefined"){x="__default";var s=0;for(var q=0;q<z._sounds.length;q++){if(z._sounds[q]._paused&&!z._sounds[q]._ended){s++;k=z._sounds[q]._id}}if(s===1){x=null}else{k=null}}}}var w=k?z._soundById(k):z._inactiveSound();if(!w){return null}if(k&&!x){x=w._sprite||"__default"}if(z._state!=="loaded"){w._sprite=x;w._ended=false;var u=w._id;z._queue.push({event:"play",action:function(){z.play(u)}});return u}if(k&&!w._paused){if(!r){setTimeout(function(){z._emit("play",w._id)},0)}return w._id}if(z._webAudio){j._autoResume()}var l=Math.max(0,w._seek>0?w._seek:z._sprite[x][0]/1000);var p=Math.max(0,((z._sprite[x][0]+z._sprite[x][1])/1000)-l);var v=(p*1000)/Math.abs(w._rate);w._paused=false;w._ended=false;w._sprite=x;w._seek=l;w._start=z._sprite[x][0]/1000;w._stop=(z._sprite[x][0]+z._sprite[x][1])/1000;w._loop=!!(w._loop||z._sprite[x][2]);var o=w._node;if(z._webAudio){var t=function(){z._refreshBuffer(w);var A=(w._muted||z._muted)?0:w._volume;o.gain.setValueAtTime(A,j.ctx.currentTime);w._playStart=j.ctx.currentTime;if(typeof o.bufferSource.start==="undefined"){w._loop?o.bufferSource.noteGrainOn(0,l,86400):o.bufferSource.noteGrainOn(0,l,p)}else{w._loop?o.bufferSource.start(0,l,86400):o.bufferSource.start(0,l,p)}if(v!==Infinity){z._endTimers[w._id]=setTimeout(z._ended.bind(z,w),v)}if(!r){setTimeout(function(){z._emit("play",w._id)},0)}};if(j.state==="running"){t()}else{z.once("resume",t);z._clearTimer(w._id)}}else{var n=function(){o.currentTime=l;o.muted=w._muted||z._muted||j._muted||o.muted;o.volume=w._volume*j.volume();o.playbackRate=w._rate;try{o.play();if(o.paused){z._emit("playerror",w._id,"Playback was unable to start. This is most commonly an issue on mobile devices where playback was not within a user interaction.");return}if(v!==Infinity){z._endTimers[w._id]=setTimeout(z._ended.bind(z,w),v)}if(!r){z._emit("play",w._id)}}catch(A){z._emit("playerror",w._id,A)}};var y=(window&&window.ejecta)||(!o.readyState&&j._navigator.isCocoonJS);if(o.readyState===4||y){n()}else{var m=function(){n();o.removeEventListener(j._canPlayEvent,m,false)};o.addEventListener(j._canPlayEvent,m,false);z._clearTimer(w._id)}}return w._id},pause:function(o){var k=this;if(k._state!=="loaded"){k._queue.push({event:"pause",action:function(){k.pause(o)}});return k}var m=k._getSoundIds(o);for(var l=0;l<m.length;l++){k._clearTimer(m[l]);var n=k._soundById(m[l]);if(n&&!n._paused){n._seek=k.seek(m[l]);n._rateSeek=0;n._paused=true;k._stopFade(m[l]);if(n._node){if(k._webAudio){if(!n._node.bufferSource){continue}if(typeof n._node.bufferSource.stop==="undefined"){n._node.bufferSource.noteOff(0)}else{n._node.bufferSource.stop(0)}k._cleanBuffer(n._node)}else{if(!isNaN(n._node.duration)||n._node.duration===Infinity){n._node.pause()}}}}if(!arguments[1]){k._emit("pause",n?n._id:null)}}return k},stop:function(p,k){var l=this;if(l._state!=="loaded"){l._queue.push({event:"stop",action:function(){l.stop(p)}});return l}var n=l._getSoundIds(p);for(var m=0;m<n.length;m++){l._clearTimer(n[m]);var o=l._soundById(n[m]);if(o){o._seek=o._start||0;o._rateSeek=0;o._paused=true;o._ended=true;l._stopFade(n[m]);if(o._node){if(l._webAudio){if(o._node.bufferSource){if(typeof o._node.bufferSource.stop==="undefined"){o._node.bufferSource.noteOff(0)}else{o._node.bufferSource.stop(0)}l._cleanBuffer(o._node)}}else{if(!isNaN(o._node.duration)||o._node.duration===Infinity){o._node.currentTime=o._start||0;o._node.pause()}}}if(!k){l._emit("stop",o._id)}}}return l},mute:function(n,p){var k=this;if(k._state!=="loaded"){k._queue.push({event:"mute",action:function(){k.mute(n,p)}});return k}if(typeof p==="undefined"){if(typeof n==="boolean"){k._muted=n}else{return k._muted}}var m=k._getSoundIds(p);for(var l=0;l<m.length;l++){var o=k._soundById(m[l]);if(o){o._muted=n;if(k._webAudio&&o._node){o._node.gain.setValueAtTime(n?0:o._volume,j.ctx.currentTime)}else{if(o._node){o._node.muted=j._muted?true:n}}k._emit("mute",o._id)}}return k},volume:function(){var k=this;var m=arguments;var o,r;if(m.length===0){return k._volume}else{if(m.length===1||m.length===2&&typeof m[1]==="undefined"){var p=k._getSoundIds();var l=p.indexOf(m[0]);if(l>=0){r=parseInt(m[0],10)}else{o=parseFloat(m[0])}}else{if(m.length>=2){o=parseFloat(m[0]);r=parseInt(m[1],10)}}}var q;if(typeof o!=="undefined"&&o>=0&&o<=1){if(k._state!=="loaded"){k._queue.push({event:"volume",action:function(){k.volume.apply(k,m)}});return k}if(typeof r==="undefined"){k._volume=o}r=k._getSoundIds(r);for(var n=0;n<r.length;n++){q=k._soundById(r[n]);if(q){q._volume=o;if(!m[2]){k._stopFade(r[n])}if(k._webAudio&&q._node&&!q._muted){q._node.gain.setValueAtTime(o,j.ctx.currentTime)}else{if(q._node&&!q._muted){q._node.volume=o*j.volume()}}k._emit("volume",q._id)}}}else{q=r?k._soundById(r):k._sounds[0];return q?q._volume:0}return k},fade:function(q,r,p,m){var t=this;if(t._state!=="loaded"){t._queue.push({event:"fade",action:function(){t.fade(q,r,p,m)}});return t}t.volume(q,m);var k=t._getSoundIds(m);for(var o=0;o<k.length;o++){var s=t._soundById(k[o]);if(s){if(!m){t._stopFade(k[o])}if(t._webAudio&&!s._muted){var l=j.ctx.currentTime;var n=l+(p/1000);s._volume=q;s._node.gain.setValueAtTime(q,l);s._node.gain.linearRampToValueAtTime(r,n)}t._startFadeInterval(s,q,r,p,k[o])}}return t},_startFadeInterval:function(t,r,s,n,k){var u=this;var m=r;var l=r>s?"out":"in";var q=Math.abs(r-s);var p=q/0.01;var o=(p>0)?n/p:n;if(o<4){p=Math.ceil(p/(4/o));o=4}t._interval=setInterval(function(){if(p>0){m+=(l==="in"?0.01:-0.01)}m=Math.max(0,m);m=Math.min(1,m);m=Math.round(m*100)/100;if(u._webAudio){if(typeof k==="undefined"){u._volume=m}t._volume=m}else{u.volume(m,t._id,true)}if((s<r&&m<=s)||(s>r&&m>=s)){clearInterval(t._interval);t._interval=null;u.volume(s,t._id);u._emit("fade",t._id)}},o)},_stopFade:function(m){var k=this;var l=k._soundById(m);if(l&&l._interval){if(k._webAudio){l._node.gain.cancelScheduledValues(j.ctx.currentTime)}clearInterval(l._interval);l._interval=null;k._emit("fade",m)}return k},loop:function(){var l=this;var m=arguments;var k,q,p;if(m.length===0){return l._loop}else{if(m.length===1){if(typeof m[0]==="boolean"){k=m[0];l._loop=k}else{p=l._soundById(parseInt(m[0],10));return p?p._loop:false}}else{if(m.length===2){k=m[0];q=parseInt(m[1],10)}}}var o=l._getSoundIds(q);for(var n=0;n<o.length;n++){p=l._soundById(o[n]);if(p){p._loop=k;if(l._webAudio&&p._node&&p._node.bufferSource){p._node.bufferSource.loop=k;if(k){p._node.bufferSource.loopStart=p._start||0;p._node.bufferSource.loopEnd=p._stop}}}}return l},rate:function(){var u=this;var r=arguments;var q,l;if(r.length===0){l=u._sounds[0]._id}else{if(r.length===1){var k=u._getSoundIds();var p=k.indexOf(r[0]);if(p>=0){l=parseInt(r[0],10)}else{q=parseFloat(r[0])}}else{if(r.length===2){q=parseFloat(r[0]);l=parseInt(r[1],10)}}}var t;if(typeof q==="number"){if(u._state!=="loaded"){u._queue.push({event:"rate",action:function(){u.rate.apply(u,r)}});return u}if(typeof l==="undefined"){u._rate=q}l=u._getSoundIds(l);for(var o=0;o<l.length;o++){t=u._soundById(l[o]);if(t){t._rateSeek=u.seek(l[o]);t._playStart=u._webAudio?j.ctx.currentTime:t._playStart;t._rate=q;if(u._webAudio&&t._node&&t._node.bufferSource){t._node.bufferSource.playbackRate.value=q}else{if(t._node){t._node.playbackRate=q}}var m=u.seek(l[o]);var n=((u._sprite[t._sprite][0]+u._sprite[t._sprite][1])/1000)-m;var s=(n*1000)/Math.abs(t._rate);if(u._endTimers[l[o]]||!t._paused){u._clearTimer(l[o]);u._endTimers[l[o]]=setTimeout(u._ended.bind(u,t),s)}u._emit("rate",t._id)}}}else{t=u._soundById(l);return t?t._rate:u._rate}return u},seek:function(){var t=this;var q=arguments;var m,l;if(q.length===0){l=t._sounds[0]._id}else{if(q.length===1){var k=t._getSoundIds();var p=k.indexOf(q[0]);if(p>=0){l=parseInt(q[0],10)}else{if(t._sounds.length){l=t._sounds[0]._id;m=parseFloat(q[0])}}}else{if(q.length===2){m=parseFloat(q[0]);l=parseInt(q[1],10)}}}if(typeof l==="undefined"){return t}if(t._state!=="loaded"){t._queue.push({event:"seek",action:function(){t.seek.apply(t,q)}});return t}var r=t._soundById(l);if(r){if(typeof m==="number"&&m>=0){var s=t.playing(l);if(s){t.pause(l,true)}r._seek=m;r._ended=false;t._clearTimer(l);if(s){t.play(l,true)}if(!t._webAudio&&r._node){r._node.currentTime=m}t._emit("seek",l)}else{if(t._webAudio){var n=t.playing(l)?j.ctx.currentTime-r._playStart:0;var o=r._rateSeek?r._rateSeek-r._seek:0;return r._seek+(o+n*Math.abs(r._rate))}else{return r._node.currentTime}}}return t},playing:function(n){var k=this;if(typeof n==="number"){var m=k._soundById(n);return m?!m._paused:false}for(var l=0;l<k._sounds.length;l++){if(!k._sounds[l]._paused){return true}}return false},duration:function(n){var k=this;var m=k._duration;var l=k._soundById(n);if(l){m=k._sprite[l._sprite][1]/1000}return m},state:function(){return this._state},unload:function(){var m=this;var l=m._sounds;for(var p=0;p<l.length;p++){if(!l[p]._paused){m.stop(l[p]._id)}if(!m._webAudio){var o=/MSIE |Trident\//.test(j._navigator&&j._navigator.userAgent);if(!o){l[p]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"}l[p]._node.removeEventListener("error",l[p]._errorFn,false);l[p]._node.removeEventListener(j._canPlayEvent,l[p]._loadFn,false)}delete l[p]._node;m._clearTimer(l[p]._id);var n=j._howls.indexOf(m);if(n>=0){j._howls.splice(n,1)}}var k=true;for(p=0;p<j._howls.length;p++){if(j._howls[p]._src===m._src){k=false;break}}if(a&&k){delete a[m._src]}j.noAudio=false;m._state="unloaded";m._sounds=[];m=null;return null},on:function(o,n,p,m){var k=this;var l=k["_on"+o];if(typeof n==="function"){l.push(m?{id:p,fn:n,once:m}:{id:p,fn:n})}return k},off:function(p,n,r){var k=this;var m=k["_on"+p];var l=0;if(typeof n==="number"){r=n;n=null}if(n||r){for(l=0;l<m.length;l++){var q=(r===m[l].id);if(n===m[l].fn&&q||!n&&q){m.splice(l,1);break}}}else{if(p){k["_on"+p]=[]}else{var o=Object.keys(k);for(l=0;l<o.length;l++){if((o[l].indexOf("_on")===0)&&Array.isArray(k[o[l]])){k[o[l]]=[]}}}}return k},once:function(m,l,n){var k=this;k.on(m,l,n,1);return k},_emit:function(n,p,o){var k=this;var m=k["_on"+n];for(var l=m.length-1;l>=0;l--){if(!m[l].id||m[l].id===p||n==="load"){setTimeout(function(q){q.call(this,p,o)}.bind(k,m[l].fn),0);if(m[l].once){k.off(n,m[l].fn,m[l].id)}}}return k},_loadQueue:function(){var l=this;if(l._queue.length>0){var k=l._queue[0];l.once(k.event,function(){l._queue.shift();l._loadQueue()});k.action()}return l},_ended:function(o){var l=this;var m=o._sprite;if(!l._webAudio&&o._node&&!o._node.paused){setTimeout(l._ended.bind(l,o),100);return l}var k=!!(o._loop||l._sprite[m][2]);l._emit("end",o._id);if(!l._webAudio&&k){l.stop(o._id,true).play(o._id)}if(l._webAudio&&k){l._emit("play",o._id);o._seek=o._start||0;o._rateSeek=0;o._playStart=j.ctx.currentTime;var n=((o._stop-o._start)*1000)/Math.abs(o._rate);l._endTimers[o._id]=setTimeout(l._ended.bind(l,o),n)}if(l._webAudio&&!k){o._paused=true;o._ended=true;o._seek=o._start||0;o._rateSeek=0;l._clearTimer(o._id);l._cleanBuffer(o._node);j._autoSuspend()}if(!l._webAudio&&!k){l.stop(o._id)}return l},_clearTimer:function(l){var k=this;if(k._endTimers[l]){clearTimeout(k._endTimers[l]);delete k._endTimers[l]}return k},_soundById:function(m){var k=this;for(var l=0;l<k._sounds.length;l++){if(m===k._sounds[l]._id){return k._sounds[l]}}return null},_inactiveSound:function(){var k=this;k._drain();for(var l=0;l<k._sounds.length;l++){if(k._sounds[l]._ended){return k._sounds[l].reset()}}return new g(k)},_drain:function(){var l=this;var k=l._pool;var n=0;var m=0;if(l._sounds.length<k){return}for(m=0;m<l._sounds.length;m++){if(l._sounds[m]._ended){n++}}for(m=l._sounds.length-1;m>=0;m--){if(n<=k){return}if(l._sounds[m]._ended){if(l._webAudio&&l._sounds[m]._node){l._sounds[m]._node.disconnect(0)}l._sounds.splice(m,1);n--}}},_getSoundIds:function(n){var k=this;if(typeof n==="undefined"){var m=[];for(var l=0;l<k._sounds.length;l++){m.push(k._sounds[l]._id)}return m}else{return[n]}},_refreshBuffer:function(l){var k=this;l._node.bufferSource=j.ctx.createBufferSource();l._node.bufferSource.buffer=a[k._src];if(l._panner){l._node.bufferSource.connect(l._panner)}else{l._node.bufferSource.connect(l._node)}l._node.bufferSource.loop=l._loop;if(l._loop){l._node.bufferSource.loopStart=l._start||0;l._node.bufferSource.loopEnd=l._stop}l._node.bufferSource.playbackRate.value=l._rate;return k},_cleanBuffer:function(l){var k=this;if(k._scratchBuffer){l.bufferSource.onended=null;l.bufferSource.disconnect(0);try{l.bufferSource.buffer=k._scratchBuffer}catch(m){}}l.bufferSource=null;return k}};var g=function(k){this._parent=k;this.init()};g.prototype={init:function(){var k=this;var l=k._parent;k._muted=l._muted;k._loop=l._loop;k._volume=l._volume;k._rate=l._rate;k._seek=0;k._paused=true;k._ended=true;k._sprite="__default";k._id=++j._counter;l._sounds.push(k);k.create();return k},create:function(){var k=this;var l=k._parent;var m=(j._muted||k._muted||k._parent._muted)?0:k._volume;if(l._webAudio){k._node=(typeof j.ctx.createGain==="undefined")?j.ctx.createGainNode():j.ctx.createGain();k._node.gain.setValueAtTime(m,j.ctx.currentTime);k._node.paused=true;k._node.connect(j.masterGain)}else{k._node=new Audio();k._errorFn=k._errorListener.bind(k);k._node.addEventListener("error",k._errorFn,false);k._loadFn=k._loadListener.bind(k);k._node.addEventListener(j._canPlayEvent,k._loadFn,false);k._node.src=l._src;k._node.preload="auto";k._node.volume=m*j.volume();k._node.load()}return k},reset:function(){var k=this;var l=k._parent;k._muted=l._muted;k._loop=l._loop;k._volume=l._volume;k._rate=l._rate;k._seek=0;k._rateSeek=0;k._paused=true;k._ended=true;k._sprite="__default";k._id=++j._counter;return k},_errorListener:function(){var k=this;k._parent._emit("loaderror",k._id,k._node.error?k._node.error.code:0);k._node.removeEventListener("error",k._errorFn,false)},_loadListener:function(){var k=this;var l=k._parent;l._duration=Math.ceil(k._node.duration*10)/10;if(Object.keys(l._sprite).length===0){l._sprite={__default:[0,l._duration*1000]}}if(l._state!=="loaded"){l._state="loaded";l._emit("load");l._loadQueue()}k._node.removeEventListener(j._canPlayEvent,k._loadFn,false)}};var a={};var i=function(k){var l=k._src;if(a[l]){k._duration=a[l].duration;h(k);return}if(/^data:[^;]+;base64,/.test(l)){var n=atob(l.split(",")[1]);var p=new Uint8Array(n.length);for(var m=0;m<n.length;++m){p[m]=n.charCodeAt(m)}f(p.buffer,k)}else{var o=new XMLHttpRequest();o.open("GET",l,true);o.withCredentials=k._xhrWithCredentials;o.responseType="arraybuffer";o.onload=function(){var q=(o.status+"")[0];if(q!=="0"&&q!=="2"&&q!=="3"){k._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".");return}f(o.response,k)};o.onerror=function(){if(k._webAudio){k._html5=true;k._webAudio=false;k._sounds=[];delete a[l];k.load()}};b(o)}};var b=function(l){try{l.send()}catch(k){l.onerror()}};var f=function(l,k){j.ctx.decodeAudioData(l,function(m){if(m&&k._sounds.length>0){a[k._src]=m;h(k,m)}},function(){k._emit("loaderror",null,"Decoding audio data failed.")})};var h=function(l,k){if(k&&!l._duration){l._duration=k.duration}if(Object.keys(l._sprite).length===0){l._sprite={__default:[0,l._duration*1000]}}if(l._state!=="loaded"){l._state="loaded";l._emit("load");l._loadQueue()}};var e=function(){try{if(typeof AudioContext!=="undefined"){j.ctx=new AudioContext()}else{if(typeof webkitAudioContext!=="undefined"){j.ctx=new webkitAudioContext()}else{j.usingWebAudio=false}}}catch(o){j.usingWebAudio=false}var m=(/iP(hone|od|ad)/.test(j._navigator&&j._navigator.platform));var l=j._navigator&&j._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);var k=l?parseInt(l[1],10):null;if(m&&k&&k<9){var n=/safari/.test(j._navigator&&j._navigator.userAgent.toLowerCase());if(j._navigator&&j._navigator.standalone&&!n||j._navigator&&!j._navigator.standalone&&!n){j.usingWebAudio=false}}if(j.usingWebAudio){j.masterGain=(typeof j.ctx.createGain==="undefined")?j.ctx.createGainNode():j.ctx.createGain();j.masterGain.gain.value=j._muted?0:1;j.masterGain.connect(j.ctx.destination)}j._setup()};if(typeof define==="function"&&define.amd){define([],function(){return{Howler:j,Howl:d}})}if(typeof exports!=="undefined"){exports.Howler=j;exports.Howl=d}if(typeof window!=="undefined"){window.HowlerGlobal=c;window.Howler=j;window.Howl=d;window.Sound=g}else{if(typeof global!=="undefined"){global.HowlerGlobal=c;global.Howler=j;global.Howl=d;global.Sound=g}}})();