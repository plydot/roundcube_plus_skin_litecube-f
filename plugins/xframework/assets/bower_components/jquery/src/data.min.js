define(["./core","./core/access","./data/var/dataPriv","./data/var/dataUser"],function(g,d,c,h){var e=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,b=/[A-Z]/g;function a(i){if(i==="true"){return true}if(i==="false"){return false}if(i==="null"){return null}if(i===+i+""){return +i}if(e.test(i)){return JSON.parse(i)}return i}function f(k,j,l){var i;if(l===undefined&&k.nodeType===1){i="data-"+j.replace(b,"-$&").toLowerCase();l=k.getAttribute(i);if(typeof l==="string"){try{l=a(l)}catch(m){}h.set(k,j,l)}else{l=undefined}}return l}g.extend({hasData:function(i){return h.hasData(i)||c.hasData(i)},data:function(j,i,k){return h.access(j,i,k)},removeData:function(j,i){h.remove(j,i)},_data:function(j,i,k){return c.access(j,i,k)},_removeData:function(j,i){c.remove(j,i)}});g.fn.extend({data:function(m,p){var l,k,o,n=this[0],j=n&&n.attributes;if(m===undefined){if(this.length){o=h.get(n);if(n.nodeType===1&&!c.get(n,"hasDataAttrs")){l=j.length;while(l--){if(j[l]){k=j[l].name;if(k.indexOf("data-")===0){k=g.camelCase(k.slice(5));f(n,k,o[k])}}}c.set(n,"hasDataAttrs",true)}}return o}if(typeof m==="object"){return this.each(function(){h.set(this,m)})}return d(this,function(q){var i;if(n&&q===undefined){i=h.get(n,m);if(i!==undefined){return i}i=f(n,m);if(i!==undefined){return i}return}this.each(function(){h.set(this,m,q)})},null,p,arguments.length>1,null,true)},removeData:function(i){return this.each(function(){h.remove(this,i)})}});return g});